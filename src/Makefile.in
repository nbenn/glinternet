PKG_CFLAGS =  @OPENMP_CFLAGS@ @GLNT_CFLAGS@
PKG_LIBS   =  @OPENMP_CFLAGS@ @GLNT_LIBS@

CC   = @CC@
WARN = @WARNINGS@

TARGET = glinternet.so

SOURCES = $(shell echo *.c)
HEADERS = $(shell echo *.h)
OBJECTS = $(SOURCES:.c=.o)

all: $(TARGET)

.c.o: $(HEADERS)
	$(CC) $(ALL_CPPFLAGS) $(ALL_CFLAGS) $(WARN) $(PKG_CFLAGS) -c $< -o $@

$(TARGET) : $(OBJECTS)
	$(CC) $(SHLIB_LDFLAGS) -o $@ $^ $(LIBR) $(PKG_LIBS)